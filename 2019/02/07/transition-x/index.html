<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>transition-x</title>
  <meta name="description" content="Transition XKotlin DSL for choreographing Android Transitions[CircleCI](https://circleci.com/gh/arunkumar9t2/transition-x/tree/master.svg?style=svg) [Downloa...">
  <meta name="google-site-verification" content="SdS3Myp0gxMT0PW20YZJgY62fN2dwUJXm98qUMV-pWk" />
  <meta name="naver-site-verification" content="4e434557f6ef7e194c75ee4b683b81f01894af85"/>
    
  <link rel="stylesheet" href="/AndroidUICollection/css/main.css">
  <link rel="canonical" href="http://localhost:4000/AndroidUICollection/2019/02/07/transition-x/">
  <link rel="alternate" type="application/rss+xml" title="Android UI OpenSource" href="http://localhost:4000/AndroidUICollection/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400" rel="stylesheet">
    
  <meta name="description" content="Transition XKotlin DSL for choreographing Android Transitions[CircleCI](https://circleci.com/gh/arunkumar9t2/transition-x/tree/master.svg?style=svg) [Downloa...">


  <meta name="author" content="kmshack" />

  <meta property="og:title" content="transition-x">
  <meta property="og:site_name" content="Android UI OpenSource" />
  <meta property="og:description" content="Transition XKotlin DSL for choreographing Android Transitions[CircleCI](https://circleci.com/gh/arunkumar9t2/transition-x/tree/master.svg?style=svg) [Downloa...">
  <meta property="og:url" content="http://localhost:4000/AndroidUICollection/2019/02/07/transition-x/" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:site" content="@kmshack" />
  <meta name="twitter:description" content="Transition XKotlin DSL for choreographing Android Transitions[CircleCI](https://circleci.com/gh/arunkumar9t2/transition-x/tree/master.svg?style=svg) [Downloa..." />

  
  	<!-- Article specific OG data -->
  	<meta property="og:type" content="article" />
  	<meta property="article:published_time" content="2019-02-07 00:00:00 +0900" />
  	
  	<meta property="article:author" content="http://facebook.com/kmshack" />
    <meta property="article:publisher" content="https://www.facebook.com/kmshack" />
  	<meta property="article:section" content="" />
  	

  	<meta name="twitter:card" content="summary_large_image" />
  	<meta name="twitter:creator" content="@kmshack_kr" />
  	<meta name="twitter:title" content="transition-x" />
	
	  	<meta property="og:image" content="/images/posts/2019-02-07-transition-x.gif" />
	  	<meta name="twitter:image" content="/images/posts/2019-02-07-transition-x.gif" />
  	

  

  <script>
    var base_url = "/AndroidUICollection";
  </script>
    
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9975139260149901",
    enable_page_level_ads: true
  });
</script>
    
</head>

<body>

  <!-- Google Analytics Code -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85072530-1', 'auto');
  ga('send', 'pageview');

</script>

  <div class="off-canvas-container">
    <div class="sidebar">
  <div class="row">

    <div class="column small-10 large-12">
      <br>
      <h1 class="sidebar__logo logo"><a href="/AndroidUICollection/">Android UI OpenSource</a></h1>
      <div class="sidebar__description font-tiny">Collection of OpenSource for Android UI.</div>
    </div>

    <label class="off-canvas-toggle"><span data-icon="ei-navicon" data-size="s"></span></label>

    <div class="off-canvas-content">

      <div class="column small-12 large-12">
        <nav class="navigation">
          <ul class="list-bare text-center">
            
              
            
              
                
                  <li>
                    <a class="page-link" href="/AndroidUICollection/about.html">About</a>
                  </li>
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
            <li><a class="subscribe-button icon-feed" href="/AndroidUICollection/feed.xml">RSS</a></li>
          </ul>
        </nav>
      </div>

      <div class="column small-12 large-12">
        <ul class="social-nav social-icons">

          
          <li>
            <a href="http://www.github.com/kmshack" target="_blank">
              <span data-icon="ei-sc-github" data-size="s"></span>
            </a>
          </li>
          

          
          <li>
            <a href="http://www.twitter.com/kmshack_kr" target="_blank">
              <span data-icon="ei-sc-twitter" data-size="s"></span>
            </a>
          </li>
          

          
          <li>
            <a href="mailto:kmshack@naver.com" target="_blank">
              <span data-icon="ei-envelope" data-size="s"></span>
            </a>
          </li>
          

          <li>
            <a class="toggle-search-button" href="#">
              <span data-icon="ei-search" data-size="s"></span>
            </a>
          </li>
        </ul>
      </div>
        
      <div class="sidebar__bottom">
        <div class="column small-12 large-12">
            
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- androidui -->
            <ins class="adsbygoogle"
                 style="display:inline-block;width:250px;height:250px"
                 data-ad-client="ca-pub-9975139260149901"
                 data-ad-slot="5123612274"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>

          <div class="font-tiny">
              <br>
            &copy; 2019 Android UI OpenSource
          </div>
        </div>
      </div>
        
    </div> <!-- off-canvas-content -->
      


  </div>
    

    
</div>

<div class="search-form-container">

  <form class="search-form">
    <fieldset class="search-form__fieldset">
      <div class="row">
        <div class="column column--center large-8">
          <input class="search-form__field" placeholder="Type to search" autofocus>
          <input class="search-form__submit" type="submit" value="search">
        </div>
      </div>
    </fieldset>
  </form>

  <div class="row">
    <div class="column column--center large-8">
      <div class="search-results"></div>
    </div>
  </div>

  <div data-icon="ei-close" data-size="s" class="close-search-button search-form-container__close"></div>

</div>

    



<div class="wrapper">
  <div class="row row--full">

    <div class="column column--center medium-12 large-12">
      <div class="grey-bg CoverImage FlexEmbed FlexEmbed--16by9" style="background-image: url(/AndroidUICollection/images/posts/2019-02-07-transition-x.gif)"></div>
        
    </div>
      
    <div class="column column--center medium-12 large-10">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

        
          <meta itemprop="og:image" content="http://localhost:4000/AndroidUICollection/images/posts/2019-02-07-transition-x.gif">
        

        <header class="post__header">
          <h2 class="post__title" itemprop="name headline">transition-x</h2>
          
          <h3 class="post__date">
            <a href="https://github.com/arunkumar9t2/transition-x" target="_blank"><span data-icon="ei-sc-github" data-size="s"></span>https://github.com/arunkumar9t2/transition-x</a>
          </h3>
        </header>

        <div class="post-content" itemprop="articleBody">
            
            <div class="column column--center medium-12 large-4">
              <div class="grey-bg CoverImage FlexEmbed FlexEmbed--9by16" style="background-image: url(/AndroidUICollection/images/posts/2019-02-07-transition-x.gif)"></div>
            </div>
          <br>
          
<h1 id="transition-x">Transition X</h1>

<p align="center">
<img src="https://github.com/arunkumar9t2/transition-x/raw/master/sample/src/main/res/mipmap-xxxhdpi/ic_launcher.png" width="210" hspace="10" vspace="10" />
</p>

<p><strong>Kotlin DSL for choreographing Android Transitions</strong></p>

<p><a href="https://circleci.com/gh/arunkumar9t2/transition-x/tree/master">[CircleCI](https://circleci.com/gh/arunkumar9t2/transition-x/tree/master.svg?style=svg)</a><a href="https://bintray.com/arunkumar9t2/maven/transition-x/_latestVersion"> [Download](https://api.bintray.com/packages/arunkumar9t2/maven/transition-x/images/download.svg) </a> <a href="https://arunkumar9t2.github.io/transition-x/transitionx/index.html">[Documentation](https://img.shields.io/badge/documentation-%20-brightgreen.svg)</a> <a href="http://androidweekly.net/#335">[Android Weekly](https://img.shields.io/badge/Android%20Weekly-%23335-blue.svg)</a></p>

<p><code class="highlighter-rouge">TransitionManager</code> makes it easy to animate simple changes to layout without needing to explicitly calculate and specify <code class="highlighter-rouge">from</code> and <code class="highlighter-rouge">to</code> like <code class="highlighter-rouge">Animator</code> or <code class="highlighter-rouge">Animation</code> expects. When you call <code class="highlighter-rouge">TransitionManager.beginDelayedTransition(layout, transition)</code> before updating a layout, the framework automatically does a diff on before and after states and animates the difference.</p>

<p><code class="highlighter-rouge">Transition X</code> is intended to simplify construction of these <code class="highlighter-rouge">Transition</code> instances to take full advantage of the framework and provide a clear, concise, type safe and extensible DSL using Kotlin language features.</p>

<p>I highly recommend reading the introduction blog post on <a href="https://medium.com/@arunkumar9t2/meet-transition-x-declarative-kotlin-dsl-for-choreographing-android-transitions-dff25ebb61f9">Medium.</a></p>

<h1 id="download">Download</h1>

<ul>
  <li>Add repository to your project level <code class="highlighter-rouge">build.gradle</code> file.</li>
</ul>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">allprojects</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="n">jcenter</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Add library dependency to module level <code class="highlighter-rouge">build.gradle</code> file.</li>
</ul>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span><span class="o">{</span>
    <span class="n">implementation</span> <span class="s1">'in.arunkumarsampath:transition-x:1.0.1'</span>
<span class="o">}</span>
</code></pre></div></div>

<h1 id="introduction">Introduction</h1>

<p><a href="https://raw.githubusercontent.com/arunkumar9t2/transition-x/develop/art/transition%20x%20intro.png">enter image description here</a></p>

<p>As shown above, instead of creating XML files and later inflating them using <code class="highlighter-rouge">TransitionInflator</code>, it is possible to create <code class="highlighter-rouge">Transition</code> instances directly using <code class="highlighter-rouge">tranistionSet{}</code> block provided by the DSL.</p>

<p>With <em><strong>Transition X</strong></em>, the construction and usage can be greatly simplified with a <code class="highlighter-rouge">prepareTransition</code> extension added to <code class="highlighter-rouge">ViewGroup</code>.</p>

<p><em>For example:</em></p>

<pre><code class="language-Kotlin">constraintLayout.prepareTransition {
  fadeOut {
      startDelay = 100
  }
  moveResize {
    pathMotion = ArcMotion()
  }
  fadeIn()
  +textView // Add textView as target using '+' operator
  exclude&lt;RecyclerView&gt;() // Exclude all recyclerViews
  ease {
    standardEasing // Applies FastOutSlowInInterpolator
  }
}
// Performing layout changes here will be animated just like
// calling TransitionManager.beginDelayedTransition()
</code></pre>
<p>All blocks are type-safe and has IDE auto complete support thanks to Kotlin.</p>

<h1 id="getting-started">Getting Started</h1>
<h2 id="writing-your-first-transition">Writing your first transition</h2>
<p>TransitionSet’s can be built programmatically like this.</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TransitionSet</span><span class="p">().</span><span class="n">apply</span> <span class="p">{</span>
  <span class="n">addTransition</span><span class="p">(</span><span class="n">ChangeBounds</span><span class="p">().</span><span class="n">apply</span> <span class="p">{</span>
    <span class="n">startDelay</span> <span class="p">=</span> <span class="m">100</span>  
    <span class="n">setPathMotion</span><span class="p">(</span><span class="n">ArcMotion</span><span class="p">())</span>  
  <span class="p">})</span>  
<span class="p">}</span>
</code></pre></div></div>
<p>The Transition X equivalent would be:</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>   
  <span class="n">moveResize</span> <span class="p">{</span>   
    <span class="n">startDelay</span> <span class="p">=</span> <span class="m">100</span>  
    <span class="n">pathMotion</span> <span class="p">=</span> <span class="n">ArcMotion</span><span class="p">()</span>  
  <span class="p">}</span>  
<span class="p">}</span>
</code></pre></div></div>
<p>Some of the transition names are <strong>opinionated</strong> to better express their intent and promote clear code. Here <code class="highlighter-rouge">ChangeBounds</code> transition usually animates a <code class="highlighter-rouge">View</code>’s height, width, or location on screen hence the name <code class="highlighter-rouge">moveResize</code> to better convey what it does.</p>
<h2 id="working-with-custom-transitions">Working with custom transitions</h2>
<p>In case you have a custom transition class and want to use with the DSL, it is easy to do so.</p>

<ul>
  <li>If your transition has a <code class="highlighter-rouge">public no arg</code> constructor then the transition can be added using <code class="highlighter-rouge">customTransition&lt;Type: Transition&gt;{}</code> method. Below example shows usage of <code class="highlighter-rouge">ChangeCardColor</code> which animates a <code class="highlighter-rouge">CardView</code>s cardBackground property.</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">constraintLayout</span><span class="p">.</span><span class="n">prepareTransition</span> <span class="p">{</span>  
  <span class="n">customTransition</span><span class="p">&lt;</span><span class="n">ChangeCardColor</span><span class="p">&gt;</span> <span class="p">{</span>  
    <span class="p">+</span><span class="n">colorChangeCardView</span>  
  <span class="p">}</span> 
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>If your transition does not have <code class="highlighter-rouge">public no arg</code> constructor then, you can instantiate the transition and then use <code class="highlighter-rouge">customTransition(transition) {}</code> instead to add the transition.</li>
  <li><strong>Accessing custom properties</strong> : In addition to the common properties like <code class="highlighter-rouge">startDelay</code>, <code class="highlighter-rouge">interpolator</code>, etc, if your transition has custom properties then <code class="highlighter-rouge">customProperties {}</code> block can be used.</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">constraintLayout</span><span class="p">.</span><span class="n">prepareTransition</span> <span class="p">{</span>
  <span class="n">customTransition</span><span class="p">&lt;</span><span class="n">ChangeCardColor</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="p">+</span><span class="n">colorChangeCardView</span>  
    <span class="n">customProperties</span> <span class="p">{</span>   
	  <span class="n">myProperty</span> <span class="p">=</span> <span class="s">"hi"</span>  
	<span class="p">}</span>  
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<h2 id="adding-removing-and-excluding-targets">Adding, removing and excluding targets</h2>
<p>The DSL provides simplified syntax to deal with targets by talking to <code class="highlighter-rouge">Transition</code>’s add/exclude/remove API.</p>

<ul>
  <li>Use <code class="highlighter-rouge">+</code> operator or <code class="highlighter-rouge">add()</code> to add targets of type <code class="highlighter-rouge">String (Transition Name)</code> or <code class="highlighter-rouge">View</code> or <code class="highlighter-rouge">Resource Id</code>.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="p">+</span><span class="s">"TransitionName"</span>  
  <span class="p">+</span><span class="n">userIconView</span>
  <span class="n">add</span><span class="p">(</span><span class="n">userIconView</span><span class="p">)</span>  
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>Use <code class="highlighter-rouge">-</code> operator or <code class="highlighter-rouge">remove()</code> to remove targets of type <code class="highlighter-rouge">String (Transition Name)</code> or <code class="highlighter-rouge">View</code> or <code class="highlighter-rouge">Resource Id</code>.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="p">-</span><span class="s">"TransitionName"</span>  
  <span class="p">-</span><span class="n">userIconView</span>
  <span class="n">remove</span><span class="p">(</span><span class="n">userIconView</span><span class="p">)</span>  
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">exclude</code> and <code class="highlighter-rouge">excludeChildren</code> methods are provided for excluding targets which can be useful in advanced transitions. It can be used on <code class="highlighter-rouge">Views</code>, <code class="highlighter-rouge">Resource Ids</code> or <code class="highlighter-rouge">Type</code>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="n">exclude</span><span class="p">&lt;</span><span class="n">RecyclerView</span><span class="p">&gt;()</span>  
  <span class="n">exclude</span><span class="p">(</span><span class="n">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">accentBackground</span><span class="p">)</span>
  <span class="n">excludeChildren</span><span class="p">(</span><span class="n">constraintLayout</span><span class="p">)</span>  
<span class="p">}</span>
</code></pre></div>    </div>
    <h2 id="interpolators">Interpolators</h2>
  </li>
  <li><strong>Interpolators</strong> can be directly added using <code class="highlighter-rouge">interpolator</code> property.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="n">moveResize</span><span class="p">()</span>  
  <span class="n">slide</span><span class="p">()</span>  
  <span class="n">interpolator</span> <span class="p">=</span> <span class="n">FastOutLinearInInterpolator</span><span class="p">()</span>  
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Easing</strong> - DSL provides a dedicated <code class="highlighter-rouge">ease</code> block to add interpolators recommended by <a href="https://material.io/design/motion/speed.html#easing">material design spec</a>.</p>

    <p><em>standardEasing</em>: Recommended for views that move within visible area of the layout. <code class="highlighter-rouge">FastOutSlowInInterpolator</code></p>

    <p><em>decelerateEasing</em>: Recommended for views that appear/enter outside visible bounds of the layout. <code class="highlighter-rouge">LinearOutSlowInInterpolator</code></p>

    <p><em>accelerateEasing</em>: Recommended for Views that exit visible bounds of the layout. <code class="highlighter-rouge">FastOutLinearInInterpolator</code></p>
  </li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="n">moveResize</span><span class="p">()</span>  
  <span class="n">ease</span> <span class="p">{</span>  
    <span class="n">decelerateEasing</span>  
  <span class="p">}</span>  
<span class="p">}</span>
</code></pre></div></div>
<h2 id="nesting-transitions">Nesting transitions</h2>
<p>Often, for fined grained transitions it it necessary to add different transition sets for different targets. It is simple to nest multiple transition sets just by using <code class="highlighter-rouge">transitionSet {}</code> recursively.</p>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transitionSet</span> <span class="p">{</span>  
  <span class="n">auto</span> <span class="p">{</span>   
    <span class="p">+</span><span class="s">"View 1"</span>  
  <span class="p">}</span>  
  <span class="n">transitionSet</span> <span class="p">{</span>   
    <span class="n">moveResize</span><span class="p">()</span>  
    <span class="n">slide</span><span class="p">()</span>  
    <span class="p">+</span><span class="s">"View 2"</span>  
  <span class="p">}</span>  
  <span class="n">transitionSet</span> <span class="p">{</span>   
    <span class="n">sequentially</span><span class="p">()</span>  
    <span class="n">fadeOut</span><span class="p">()</span>  
    <span class="n">moveResize</span><span class="p">()</span>  
    <span class="n">fadeIn</span><span class="p">()</span>  
  <span class="p">}</span>  
<span class="p">}</span>
</code></pre></div></div>
<h2 id="additional-transitions">Additional transitions</h2>
<p>The library packages additional transitions not present in the support library and the plan is to add more commonly used transitions to provide a full package. Currently the following transitions are packaged.</p>
<ul>
  <li><strong><em>ChangeText</em></strong>: Animates changes to a <code class="highlighter-rouge">TextView.text</code> property.</li>
  <li><strong><em>ChangeColor</em></strong>: Animates changes to <code class="highlighter-rouge">View.background</code> if it is a <code class="highlighter-rouge">ColorDrawable</code> or changes to <code class="highlighter-rouge">TextView.textColor</code> if the target is a <code class="highlighter-rouge">TextView</code>.</li>
</ul>

<h1 id="samples">Samples</h1>

<table>
<tbody>
<tr>
<th width="20%">Sample</th>
<th width="30%">DSL</th>
<th width="50%">Demo</th>
</tr>
<tr>
<td><b>Snackbar animation</b></td>
<td>Snackbar is anchored below FAB. <code>moveResize</code> is used on on FAB since its position changes. <code>Slide</code> is used on <code>Snackbar</code> since it's visibility changes.
<pre>constraintLayout.prepareTransition {
  moveResize { 
    +fab
  }
  slide {
    +snackbarMessage
  }
  ease {
    decelerateEasing
  }
}
snackbarMessage.toggleGone()
</pre>
</td>
<td><img src="https://github.com/arunkumar9t2/transition-x/raw/master/art/snackbar_transition.gif" alt="" width="470" /></td>
</tr>
<tr>
<td><b>Cascade animation</b></td>
<td>It is possible to write normal logical code in the <code>prepareTransition</code> block. Here we add <code>moveResize</code> using loops and by adding a start delay based on position, we can emulate a cascade transition.
<pre>constraintLayout.prepareTransition {
  texts.forEachIndexed { position, view -&gt;
    moveResize {
	  +view
	  startDelay = ((position + 1) * 150).toLong()
	}
 }
 moveResize { +fab }
 ease {
    decelerateEasing
 }
}
// Layout changes
(if (defaultState) constraint1 else constraint2)
.applyTo(constraintLayout)
</pre>
</td>
<td><img src="https://github.com/arunkumar9t2/transition-x/raw/master/art/cascade_transition.gif" alt="" width="470" /></td>
</tr>
<tr></tr>
<tr>
<td><b>Custom Transition</b></td>
<td>In the following example, <code>ChangeCardColor</code> is a custom transition that animates <code>cardBackgroundColor</code> property of <code>MaterialCardView</code> .
<pre>constraintLayout.prepareTransition {
  customTransition&lt;ChangeCardColor&gt; {
     +cardView
  }
  changeColor {
     +textView
  }
  duration = 1000
}
// Layout changes
cardView.setCardBackgroundColor(color)
textView.setTextColor(calcForegroundWhiteOrBlack(color))
</pre>
</td>
<td><img src="https://github.com/arunkumar9t2/transition-x/raw/master/art/custom_transition.gif" alt="" width="470" /></td>
</tr>
<tr>
<td><b>Arc motion</b></td>
<td>Here the <code>imageView</code>'s gravity is changed from <code>START | CENTER_VERTICAL</code> to <code>TOP | CENTER_HORIZONTAL</code>. By using a pathMotion it is possible to control the motion of the animation to follow material guidelines' arc motion.
<pre>frameLayout.prepareTransition {
  moveResize {
    pathMotion = ArcMotion()
    +userIconView
  }
}
</pre>
</td>
<td><img src="https://github.com/arunkumar9t2/transition-x/raw/master/art/arc_motion.gif" alt="" width="470" /></td>
</tr>
<tr>
<td><b>Advanced choreography</b></td>
<td>By using techniques above and coupling it with further customization via lifecycle listeners such as <code>onEnd</code> or <code>onPause</code> it is possible to have finer control over the entire transition process. In the example below, notice how different views are configured with different parameters for transition type, interpolation and ordering.
<pre>constraintLayout.prepareTransition {
  auto {
     ease {
       standardEasing
     }
     exclude(metamorphosisDesc2)
  }
  transitionSet {
     fade()
     slide()
     ease {
       accelerateEasing
     }
     +metamorphosisDesc2
  }
  changeImage { add(*imageViews) }
  onEnd {
     constraintLayout.prepareTransition {
         moveResize()
         changeText {
             +collapseButton
             changeTextBehavior <br />              = ChangeText.CHANGE_BEHAVIOR_OUT_IN
         }
   }
   collapseButton.setText(R.string.collapse)
 }
 duration = 300
}
expandConstraint.applyTo(constraintLayout)
metamorphosisDesc2.isGone = false
metamorphosisDesc.isGone = true
</pre>
</td>
<td><img src="https://github.com/arunkumar9t2/transition-x/raw/master/art/metamorphosis.gif" alt="" width="470" /></td>
</tr>
<tr>
<td><b>Shared element transition</b></td>
<td>Transition instances created by the DSL can be directly used with <code> activity.window.sharedElementEnterTransition</code> or <code>fragment.sharedElementEnterTransition.</code>
 <pre>
fragment.sharedElementEnterTransition = transitionSet {
  transitionSet {
    changeImage()
    moveResize()
    changeClipBounds()
    scaleRotate()
    ease {
      standardEasing
     }
     duration = 375
     +cartItem.cartImageTransitionName()
  }
  transitionSet {
    ease {
      standardEasing
    }
    moveResize()
    scaleRotate()
    add(cartItem.name, cartItem.price)
    duration = 375
   }
}
  <pre>
  &lt;/td&gt;
<td>
<p>Demo - WIP.</p>
<p><a href="https://github.com/arunkumar9t2/transition-x/tree/master/sample/src/main/java/in/arunkumarsampath/transitionx/sample/home/transitionsamples/cart">Example</a></p>
</td>
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

# Tasks

- [x] Initial release of Kotlin DSL
- [x] Provide samples for Shared Element Transitions
- [x] Package common transition within the library module
- [ ] Add wiki with best practices and gotchas.

# Contributions

Contributions are welcome I would greatly appreciate creating an issue to discuss major changes before submitting a PR directly.
How can you help:

- Improving test coverage.
- Finding the DSL not sufficient for your case? Create an issue so we can discuss.
- Adding more animation samples to the sample app.

# License

    Copyright 2018, Arunkumar.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
</pre></pre></td></tr></tbody></table>

          <br>
          <div class="post__tags">
            
              <a href="/AndroidUICollection/tag/transition">transition</a>
            
          </div>
            
        </div>
          
          <br>
          <hr>
          <br>  
          <div class="post-content"  itemprop="articleBody">
            
          </div>
          <br>
          <hr>
          <br>

        

        

<ul class="share-list">
  <li>
    <a class="share-list__link" href="https://twitter.com/intent/tweet?text=transition-x&url=http://localhost:4000/AndroidUICollection/2019/02/07/transition-x/&via=kmshack_kr&related=kmshack_kr" rel="nofollow" target="_blank" title="Share on Twitter">
      <div data-icon="ei-sc-twitter" data-size="s" class="share-list__icon share-list__icon--twitter"></div>
    </a>
  </li>
  <li>
    <a class="share-list__link" href="https://facebook.com/sharer.php?u=http://localhost:4000/AndroidUICollection/2019/02/07/transition-x/" rel="nofollow" target="_blank" title="Share on Facebook">
    <div data-icon="ei-sc-facebook" data-size="s" class="share-list__icon share-list__icon--facebook"></div>
    </a>
  </li>
  <li>
    <a class="share-list__link" href="https://plus.google.com/share?url=http://localhost:4000/AndroidUICollection/2019/02/07/transition-x/" rel="nofollow" target="_blank" title="Share on Google+">
    <div data-icon="ei-sc-google-plus" data-size="s" class="share-list__icon share-list__icon--google"></div>
    </a>
  </li>
</ul>

        <h5 class="separator">
  <span class="separator__title">Newsletter</span>
</h5>

<div class="box box--news-letter">
  <form action="//aspirethemes.us12.list-manage.com/subscribe/post?u=9723f3c5c3a2637fbba3bc673&amp;id=7b50db9989" method="post" target="_blank">
    <div class="row">
      <div class="column medium-9 large-9">
        <input type="email" name="EMAIL" placeholder="Your email address">
      </div>
      <div class="column medium-3 large-3">
        <input type="submit" class="button button--expand" value="SIGN UP">
      </div>
    </div>
  </form>
</div>

        <section class="disqus">
  <h5 class="separator">
    <span class="separator__title">Comments</span>
  </h5>
  <div id="disqus_thread"></div>

<script>
  var disqus_config = function () {
    this.page.url = "http://localhost:4000/2019/02/07/transition-x/";
  };

  (function() {
    var d = document, s = d.createElement('script');

    s.src = '//android-kmshack-kr.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>
      </article>
    </div>

  </div> <!-- row-->
</div> <!-- wrapper -->
  </div>
    
  <script src="/AndroidUICollection/js/jquery-2.1.4.min.js"></script>
  <script src="/AndroidUICollection/js/evil-icons.min.js"></script>
  <script src="/AndroidUICollection/js/jquery.fitvids.js"></script>
  <script src="/AndroidUICollection/js/jquery.ghostHunter.min.js"></script>
  <script src="/AndroidUICollection/js/script.js"></script>
</body>

</html>